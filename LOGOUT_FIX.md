# ЁЯФз рж▓ржЧржЖржЙржЯ ржмрж╛ржЯржи ржлрж┐ржХрзНрж╕ - Centralized Logout

## тЬЕ рж╕ржорж╕рзНржпрж╛ рж╕ржорж╛ржзрж╛ржи рж╣ржпрж╝рзЗржЫрзЗ

рж▓ржЧржЖржЙржЯ ржмрж╛ржЯржи ржПржЦржи рж╕ржм ржкрзЗржЬрзЗ (Dashboard, Staff Management, Billing, ржЗрждрзНржпрж╛ржжрж┐) ржкрж╛рж░ржлрзЗржХрзНржЯрж▓рж┐ ржХрж╛ржЬ ржХрж░ржмрзЗред

---

## ЁЯОп ржХрзА ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ

### **js/navbar.js**

#### рзз. **signOut ржЗржорзНржкрзЛрж░рзНржЯ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ**
```javascript
import { signOut } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
```

#### рзи. **Centralized Logout Logic**
```javascript
if(logoutBtn) {
    logoutBtn.addEventListener('click', () => {
        if (confirm("Are you sure you want to logout?")) {
            signOut(auth).then(() => {
                localStorage.clear();
                sessionStorage.clear();
                window.location.href = getCorrectPath('index.html');
            }).catch((error) => {
                console.error("Logout error", error);
                alert("Logout failed!");
            });
        }
    });
}
```

---

## ЁЯЪА ржПржЦржи ржХрзАржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ

1. **ржпрзЗржХрзЛржирзЛ ржкрзЗржЬрзЗ** рж▓ржЧржЖржЙржЯ ржмрж╛ржЯржирзЗ ржХрзНрж▓рж┐ржХ ржХрж░рзБржи
2. **Confirmation** ржкржкржЖржк ржЖрж╕ржмрзЗ
3. **Yes** ржХрзНрж▓рж┐ржХ ржХрж░рж▓рзЗ:
   - Firebase ржерзЗржХрзЗ рж▓ржЧржЖржЙржЯ рж╣ржмрзЗ
   - localStorage ржПржмржВ sessionStorage ржХрзНрж▓рж┐ржпрж╝рж╛рж░ рж╣ржмрзЗ
   - рж▓ржЧржЗржи ржкрзЗржЬрзЗ (`index.html`) рж░рж┐ржбрж╛ржЗрж░рзЗржХрзНржЯ рж╣ржмрзЗ
4. **рж╕ржарж┐ржХ ржкрж╛рже** ржЕржЯрзЛржорзЗржЯрж┐ржХ рж╕рзЗржЯ рж╣ржмрзЗ (`getCorrectPath()` ржлрж╛ржВрж╢ржи ржжрж┐ржпрж╝рзЗ)

---

## тЬи рж╕рзБржмрж┐ржзрж╛

- тЬЕ **Centralized**: ржПржХржЯрж┐ ржЬрж╛ржпрж╝ржЧрж╛ржпрж╝ ржХрзЛржб, рж╕ржм ржкрзЗржЬрзЗ ржХрж╛ржЬ ржХрж░рзЗ
- тЬЕ **Path Fix**: рж╕рж╛ржм-ржлрзЛрж▓рзНржбрж╛рж░ ржерзЗржХрзЗржУ рж╕ржарж┐ржХржнрж╛ржмрзЗ `index.html`-ржП ржлрж┐рж░рзЗ ржпрж╛ржпрж╝
- тЬЕ **Data Security**: localStorage ржХрзНрж▓рж┐ржпрж╝рж╛рж░ рж╣ржпрж╝рзЗ ржпрж╛ржпрж╝
- тЬЕ **No Duplicate Code**: ржкрзНрж░рждрж┐ржЯрж┐ HTML ржлрж╛ржЗрж▓рзЗ ржЖрж▓рж╛ржжрж╛ рж▓рж┐рж╕рзЗржирж╛рж░ рж▓рж╛ржЧржмрзЗ ржирж╛

---

## ЁЯз╣ ржкрж░рж┐рж╖рзНржХрж╛рж░ ржХрж░рж╛рж░ ржХрж╛ржЬ (ржРржЪрзНржЫрж┐ржХ)

ржпржжрж┐ ржЖржкржирж╛рж░ ржЕржирзНржп HTML ржлрж╛ржЗрж▓рзЗ (ржпрзЗржоржи `dashboard.html`, `billing.html`) ржирж┐ржЪрзЗрж░ ржорждрзЛ ржХрзЛржб ржерж╛ржХрзЗ, рждрж╛рж╣рж▓рзЗ рж╕рзЗржЧрзБрж▓рзЛ ржбрж┐рж▓рж┐ржЯ ржХрж░рзЗ ржжрж┐рждрзЗ ржкрж╛рж░рзЗржи:

```javascript
// ржПржЗ ржХрзЛржб ржПржЦржи ржЖрж░ рж▓рж╛ржЧржмрзЗ ржирж╛ тЭМ
document.addEventListener('trigger-logout', () => {
    signOut(auth).then(() => {
        window.location.href = 'index.html';
    });
});
```

ржХрж╛рж░ржг ржПржЦржи `navbar.js` ржирж┐ржЬрзЗржЗ рж╕ржм рж╣рзНржпрж╛ржирзНржбрзЗрж▓ ржХрж░ржЫрзЗред

---

## ЁЯзк ржЯрзЗрж╕рзНржЯрж┐ржВ

- [ ] Dashboard ржерзЗржХрзЗ рж▓ржЧржЖржЙржЯ ржХрж░рзБржи
- [ ] Staff Management ржерзЗржХрзЗ рж▓ржЧржЖржЙржЯ ржХрж░рзБржи
- [ ] Billing ржкрзЗржЬ ржерзЗржХрзЗ рж▓ржЧржЖржЙржЯ ржХрж░рзБржи
- [ ] рж╕ржм ржХрзНрж╖рзЗрждрзНрж░рзЗ `index.html`-ржП ржлрж┐рж░рзЗ ржпрж╛ржЪрзНржЫрзЗ ржХрж┐ржирж╛ ржЪрзЗржХ ржХрж░рзБржи
- [ ] ржкрзБржирж░рж╛ржпрж╝ рж▓ржЧржЗржи ржХрж░рждрзЗ ржкрж╛рж░ржЫрзЗржи ржХрж┐ржирж╛ ржжрзЗржЦрзБржи

---

**рждрзИрж░рж┐ ржХрж░рзЗржЫрзЗржи:** Amazon Q Developer  
**рждрж╛рж░рж┐ржЦ:** рзирзжрзирзл-рзжрзз-рззрзл
