/* ============================================================= */
/* print.css - Mobile Friendly Card View + Thermal Print (v7.0) */
/* ============================================================= */

/* --- ১. প্রিন্টার পেজ সেটআপ (শুধুমাত্র প্রিন্টের জন্য কাজ করবে) --- */
@page {
    size: 80mm auto;
    margin: 0; /* প্রিন্টারে মার্জিন ০ রাখা ভালো, কন্টেন্ট দিয়ে নিয়ন্ত্রণ করব */
}

/* --- ২. বেসিক সেটআপ এবং মোবাইল স্ক্রিন ভিউ --- */
html, body {
    width: 100%;
    height: 100%;
    margin: 0;
    padding: 0;
    font-family: 'Arial Narrow', 'Arial', sans-serif;
    /* মোবাইলে অ্যাপের মতো ফিল দেওয়ার জন্য ব্যাকগ্রাউন্ড কালার */
    background-color: #eef2f5; 
    color: #000;
    /* বিলটি স্ক্রিনের মাঝখানে আনার জন্য */
    display: flex;
    justify-content: center;
    align-items: flex-start; 
}

/* কাস্টমার ভিউতে মেনু এবং অপ্রয়োজনীয় বাটন হাইড করার জন্য */
.is-customer-view #navbar-placeholder,
.is-customer-view #mobile-menu-btn,
.is-customer-view .no-print,
.is-customer-view header:not(.shop-header),
.is-customer-view nav,
.is-customer-view .hamburger {
    display: none !important;
}

/* --- ৩. রশিদের মেইন কন্টেইনার (মোবাইল কার্ড স্টাইল) --- */
.receipt {
    /* স্ক্রিন ভিউ: মোবাইলে সুন্দর কার্ডের মতো দেখাবে */
    width: 100%;
    max-width: 400px; /* মোবাইলে এর চেয়ে চওড়া হবে না */
    margin: 20px auto;
    padding: 15px; /* স্ক্রিনে একটু ফাঁকা জায়গা থাকবে */
    background-color: #fff;
    box-sizing: border-box;
    /* শ্যাডো এবং গোল কোণা (অ্যাপ স্টাইল) */
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    border-radius: 8px;
    position: relative;
    z-index: 1;
}

/* ============================================================= */
/* ৪. ভিতরের সব ডিজাইন (আপনার v6.1 ফন্ট সাইজ এবং লেআউট)         */
/* ============================================================= */

/* দোকানের তথ্য */
.shop-header { text-align: center; padding-bottom: 10px; border-bottom: 2px solid #000; margin-bottom: 10px; }
.shop-header .shop-name {
    font-size: 24pt; 
    font-weight: 700; 
    margin: 0 0 5px 0;
    line-height: 1.2;
}
.shop-header .shop-address, .shop-header .shop-contact, .shop-header .shop-gstin {
    font-size: 12pt; 
    font-weight: bold;
    margin: 4px 0;
}

/* বিল ও কাস্টমার তথ্য */
.bill-info, .customer-details { 
    padding: 8px 0; 
    margin-bottom: 8px; 
    border-bottom: 1px dashed #555; 
}
.bill-info {
    font-size: 11pt;
    font-weight: bold;
}
.customer-details {
    font-size: 12pt; 
    font-weight: bold;
}

/* অ্যালাইনমেন্ট ঠিক করা */
.bill-info div, .customer-details p { 
    display: flex;
    justify-content: flex-start; 
    margin: 4px 0; 
}
.bill-info strong, .customer-details strong {
    min-width: 80px; 
    display: inline-block;
}

/* আইটেম টেবিল */
.items-table { 
    width: 100%; 
    table-layout: fixed; /* টেবিলকে কার্ডের ভেতরে আটকে রাখার জন্য */
    border-collapse: collapse; 
    margin: 10px 0; 
}
.items-table thead { border-top: 1.5px solid #000; border-bottom: 1.5px solid #000; }
.items-table th, .items-table td { 
    padding: 5px 2px; 
    vertical-align: top;
    /* লম্বা লেখা ভেঙে নিচে নামানোর জন্য */
    white-space: normal;
    word-wrap: break-word;
    overflow-wrap: break-word;
}
.items-table th {
    font-size: 10pt; 
    text-align: left;
    font-weight: 700;
    text-transform: uppercase;
}
.items-table td {
    font-size: 11.5pt; 
    font-weight: bold;
    border-bottom: 1px dotted #999;
}
.items-table tbody tr:last-child td { border-bottom: none; }

/* টেবিল কলাম সাইজ এবং সংখ্যা ভাঙা প্রতিরোধ */
.items-table .center { text-align: center; }
.items-table .right { text-align: right; font-feature-settings: "tnum"; }

/* ১. আইটেমের নাম - নাম ভেঙে নিচে নামবে */
.items-table .item-col { 
    width: 40%; 
    
    /* লেখা যাতে শব্দের মাঝখানে না ভাঙে */
    white-space: normal;
    word-wrap: break-word; 
    word-break: normal; /* এটিই আসল কাজ করবে */
    overflow-wrap: break-word;
    
    padding-right: 5px; /* ডানদিকে একটু ফাঁকা রাখা */
}

/* ২. পরিমাণ - সংখ্যা ভাঙবে না */
.items-table .qty-col { 
    width: 10%; 
    text-align: center; 
    white-space: nowrap;
}

/* ৩. রেট - সংখ্যা ভাঙবে না, জায়গা বাড়ানো */
.items-table .rate-col { 
    width: 25%; 
    text-align: right; 
    white-space: nowrap;
}

/* ৪. মোট - সংখ্যা ভাঙবে না, জায়গা বাড়ানো */
.items-table .total-col { 
    width: 25%; 
    text-align: right; 
    white-space: nowrap;
}

/* মোট হিসাব */
.totals-section { margin-top: 10px; padding: 10px 2px 0 2px; border-top: 1.5px solid #000; }
.summary-line {
    display: flex;
    justify-content: space-between;
    padding: 4px 0;
    font-size: 11pt; 
    font-weight: bold; 
}
.separator { border: none; border-top: 1px dashed #555; margin: 5px 0; }
.grand-total {
    font-size: 16pt; 
    font-weight: 700;
}

/* পেমেন্ট এবং ফুটার */
.payment-details {
    padding: 10px 0;
    border-top: 1px dashed #555;
    margin-top: 10px;
}
.payment-breakdown {
    margin-top: 8px;
    padding-top: 8px;
    border-top: 1px dotted #999;
}
.receipt-footer { margin-top: 15px; text-align: center; font-size: 10pt; }
.receipt-footer p { margin: 4px 0; }
.receipt-footer .powered-by { margin-top: 10px; font-style: italic; color: #555; }


/* ============================================================= */
/* ৫. প্রিন্ট মিডিয়া কোয়েরি (এখানেই আসল ম্যাজিক)                 */
/* ============================================================= */
@media print {
    /* নেভিগেশন বার, হ্যামবার্গার মেনু এবং অন্যান্য বাটন হাইড করা */
    #navbar-placeholder, 
    .no-print, 
    #mobile-menu-btn, 
    header:not(.shop-header), 
    nav, 
    .hamburger {
        display: none !important;
    }

    /* প্রিন্টের সময় ব্যাকগ্রাউন্ড সাদা, কোনো প্যাডিং নেই */
    body { 
        background-color: #fff; 
        display: block; /* flex রিমুভ করা হচ্ছে */
    }

    /* প্রিন্টের সময় কার্ড স্টাইল রিমুভ এবং থার্মাল সাইজ সেট */
    .receipt {
        width: 72mm !important; /* বা 100% */
        max-width: none !important;
        margin: 0 auto !important; /* অটো মার্জিন */
        padding: 0 !important; /* কার্ডের প্যাডিং রিমুভ */
        box-shadow: none !important; /* শ্যাডো রিমুভ */
        border-radius: 0 !important; /* রাউন্ড কর্নার রিমুভ */
        border: none !important;
    }

    /* সব এলিমেন্টের কালার কালো নিশ্চিত করা */
    * { 
        background: transparent !important; 
        color: #000 !important; 
        text-shadow: none !important; 
        box-shadow: none !important; 
    }
    
    /* প্রিন্টের সময় অপ্রয়োজনীয় স্ক্রলবার লুকানো */
    html, body {
        height: auto;
        overflow: visible;
    }
}